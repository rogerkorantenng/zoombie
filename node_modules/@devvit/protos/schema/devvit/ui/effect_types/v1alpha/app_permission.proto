syntax = "proto3";

package devvit.ui.effect_types.v1alpha;

import "reddit/devvit/app_permission/v1/app_permission.proto";

option go_package = "github.snooguts.net/reddit/reddit-devplatform-monorepo/go-common/generated/protos/types/devvit/ui/effect_types/v1alpha";
option java_package = "com.reddit.devvit.ui.effect_types.v1alpha";

// This effect is used to check if the app can execute some actions as the user
message CanRunAsUserEffect {
  // Post Thing ID (t3)
  optional string post_id = 1;
  // The slug of app, eg 'pixelary-game'
  optional string app_slug = 2;
  // t5_ subreddit id, eg 't5_bogzxg'
  optional string subreddit_id = 3;
}

// This event is emitted when the user grants (allow) or rejects (deny) the app's permission request
message ConsentStatusEvent {
  // whether the user granted or rejected the app's permission request
  .reddit.devvit.app_permission.v1.ConsentStatus consent_status = 1;
}
